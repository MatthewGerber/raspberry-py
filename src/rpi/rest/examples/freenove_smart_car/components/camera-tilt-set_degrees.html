<div class="range">
  <label for="camera-tilt-set_degrees" class="form-label">camera-tilt set_degrees</label>
  <input type="range" class="form-range" min="80" max="180" step="1" value="90" id="camera-tilt-set_degrees" />
</div>
<script>
function camera_tilt_set_degrees (degrees, set_range) {
  $.ajax({
    url: "http://10.0.0.59:5000/call/camera-tilt/set_degrees?degrees=int:" + degrees,
    type: "GET"
  });
  if (set_range) {
    $("#camera-tilt-set_degrees")[0].value = degrees;
  }
}
$("#camera-tilt-set_degrees").on("input", function () {
  camera_tilt_set_degrees($("#camera-tilt-set_degrees")[0].value, false);
});
$("#camera-tilt-set_degrees").on("mouseup touchend", function () {
  camera_tilt_set_degrees(90, true);
});
window.addEventListener("keydown", (event) => {
  switch (event.key) {
    case "d":
      camera_tilt_set_degrees(parseInt($("#camera-tilt-set_degrees")[0].value) - 1, true);
      break;
    case "e":
      camera_tilt_set_degrees(parseInt($("#camera-tilt-set_degrees")[0].value) + 1, true);
      break;
    case "r":
      camera_tilt_set_degrees(90, true);
      break;
  }
  event.preventDefault();
}, true);
</script>
