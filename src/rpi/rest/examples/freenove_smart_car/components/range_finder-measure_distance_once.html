<div>
  <label id="range_finder-measure_distance_once">Range:  null</label>
</div>
<script>
range_finder_measure_distance_once = $("#range_finder-measure_distance_once");
car_1_start_stop = $("#car-1-start-stop");
async function read_value_range_finder_measure_distance_once() {
  while (!car_1_start_stop.is(":checked")) {
    await new Promise(r => setTimeout(r, 1000));
  }
  $.ajax({
    url: "http://10.0.0.59:5000/call/range_finder/measure_distance_once",
    type: "GET",
    success: async function (return_value) {
      range_finder_measure_distance_once.innerHTML = "Range:  " + return_value;
      await new Promise(r => setTimeout(r, 1000.0));
      await read_value_range_finder_measure_distance_once();
    },
    error: async function(xhr, error){
      console.log(error);
      range_finder_measure_distance_once.innerHTML = "Range:  null";
      await new Promise(r => setTimeout(r, 1000.0));
      await read_value_range_finder_measure_distance_once();
    }
  });
}
await read_value_range_finder_measure_distance_once();
</script>
