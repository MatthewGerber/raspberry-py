<div class="range">
  <label for="car-1-set_speed" class="form-label"></label>
  <input type="range" orient="vertical" class="form-range" min="-50" max="50" step="1" value="0" id="car-1-set_speed" />
</div>
<script>
function car_1_set_speed (speed, set_range) {
  $.ajax({
    url: "http://10.0.0.59:5000/call/car-1/set_speed?speed=int:" + speed,
    type: "GET"
  });
  if (set_range) {
    $("#car-1-set_speed")[0].value = speed;
  }
}
$("#car-1-set_speed").on("input", function () {
  car_1_set_speed($("#car-1-set_speed")[0].value, false);
});
$("#car-1-set_speed").on("mouseup touchend", function () {
  car_1_set_speed(0, true);
});
window.addEventListener("keydown", (event) => {
  switch (event.key) {
    case "Down":
    case "ArrowDown":
      car_1_set_speed(parseInt($("#car-1-set_speed")[0].value) - 1, true);
      break;
    case "Up":
    case "ArrowUp":
      car_1_set_speed(parseInt($("#car-1-set_speed")[0].value) + 1, true);
      break;
    case " ":
      car_1_set_speed(0, true);
      break;
  }
  event.preventDefault();
}, true);
</script>
