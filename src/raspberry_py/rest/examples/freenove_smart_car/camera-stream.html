<div style="height:480px;display:flex;justify-content:center" id="camera-stream"></div>

<script type="text/javascript">
let image_id = 0;
let loaded_images = [];
function insert_new_image() {
  let img = new Image();
  img.style.position = "absolute";
  img.style.zIndex = "-1";
  img.onload = image_loaded;
  img.src = "http://rpi:8081/?action=snapshot&n=" + (++image_id);
  let camera_stream = document.getElementById("camera-stream");
  camera_stream.insertBefore(img, camera_stream.firstChild);
}
function image_loaded() {
  this.style.zIndex = image_id; // Image loaded_images, bring to front!
  while (1 < loaded_images.length) {
    let image_to_remove = loaded_images.shift();
    image_to_remove.parentNode.removeChild(image_to_remove);
  }
  loaded_images.push(this);
  insert_new_image();
}
insert_new_image();
</script>