<button type="button" class="btn btn-primary" id="buzzer-buzz-stop">Horn</button>
<script type="module">
import {rest_host, rest_port} from "./globals.js";
const buzzer_buzz_stop = $("#buzzer-buzz-stop");
function on_press_buzz () {
  $.ajax({
    url: "http://" + rest_host + ":" + rest_port + "/call/buzzer/buzz",
    type: "GET"
  });
}
buzzer_buzz_stop.on("mousedown touchstart", function () {
  on_press_buzz();
});
window.addEventListener("keydown", (event) => {
  switch (event.key) {
    case "h":
      on_press_buzz();
      break;
  }
  event.preventDefault();
}, true);
function on_release_stop () {
  $.ajax({
    url: "http://" + rest_host + ":" + rest_port + "/call/buzzer/stop",
    type: "GET"
  });
}
buzzer_buzz_stop.on("mouseup touchend", function () {
  on_release_stop();
});
window.addEventListener("keyup", (event) => {
  switch (event.key) {
    case "h":
      on_release_stop();
      break;
  }
  event.preventDefault();
}, true);
</script>
